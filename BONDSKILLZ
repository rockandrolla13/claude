claude
```

Then prompt:
```
Create a skill at .claude/skills/bond-data-profiler/SKILL.md for bond dataset profiling.

The skill should:

1. Scan directories for .csv, .parquet, .gz files
2. Per dataset, identify:
   - Identifiers: isin, cusip, figi, instrument_id, bond_id (priority order)
   - Date fields: date, as_of_date, trade_date, pricing_date, timestamp
3. Create reports/{dataset_name}_summary.md with:
   - Unique bond count
   - Date coverage (min, max, distinct dates)
   - Column completeness (dtype, % missing)
   - Bonds per month by duration bucket
4. Duration buckets: [0,1], [1,3], [3,5], [5,7], [7,10], [10,inf]
5. Population statistics:
   - Top 15 columns by missingness
   - Quantiles (p0, p1, p10, p50, p90, p99, p100) for price, yield, spread, OAS
   - Rating distribution
   - Coupon distribution
   - Observations per bond (liquidity proxy)
6. Gap analysis in reports/{dataset_name}_gaps.md:
   - Coverage gaps by month (<80% of median)
   - Bond-level continuity gaps (internal missing months)
   - Field-level gaps over time
   - Prioritised backfill plan
7. Create reports/INDEX.md linking all reports

Use Python with pandas. Handle varying column names with heuristics.
```

---

## Step 3: Create the Column Mappings Reference
```
Now create .claude/skills/bond-data-profiler/column-mappings.md with heuristics for:
- Identifier columns (isin, cusip, figi variations)
- Date columns (date, as_of_date, trade_date variations)
- Pricing columns (price, yield, spread, oas variations)
- Duration columns
- Rating columns
```

---

## Step 4: Verify the Skill Structure
```
Show me the contents of .claude/skills/bond-data-profiler/
```

Expected:
```
.claude/skills/bond-data-profiler/
├── SKILL.md
├── column-mappings.md
└── templates/
    └── INDEX.md.template  (optional)
```

---

## Step 5: Test the Skill Activation
```
/clear
```

Then:
```
Profile the bond dataset in data/trace_bonds/
```

Claude should:
1. Recognise this triggers the `bond-data-profiler` skill
2. Ask to use the skill (first time)
3. Follow the workflow

---

## Step 6: Update CLAUDE.md
```
Add to CLAUDE.md:

## Data Profiling
- For dataset analysis, use the bond-data-profiler skill
- All profiling outputs go to reports/
- Column name variations handled via skill's column-mappings.md
```

---

## Step 7: Create a Slash Command (Optional)

For explicit invocation:
```
Create a slash command at .claude/commands/profile-data.md:

Profile bond dataset at path: $ARGUMENTS

1. Use the bond-data-profiler skill
2. Scan the specified directory
3. Generate all summary and gap reports
4. Create INDEX.md linking outputs
```

Then use:
```
/project:profile-data data/trace_bonds/
